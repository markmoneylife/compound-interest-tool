<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <!-- åŸºæœ¬ Meta -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- é é¢æ¨™é¡Œ & æè¿° -->
  <title>é€€ä¼‘ç›®æ¨™å€’æ¨ï½œæ¯æœˆè©²å­˜å¤šå°‘ï¼Ÿç«‹å³è©¦ç®—</title>
  <meta name="description" content="è¼¸å…¥å¹´é½¡èˆ‡ç›®æ¨™é‡‘é¡ï¼Œå³å¯å¿«é€Ÿå¾—å‡ºæ¯æœˆæ‡‰æŠ•å…¥é‡‘é¡ã€‚ç”±å³é¦¬å…‹å°ˆç‚ºETFæŠ•è³‡äººæ‰“é€ çš„é€€ä¼‘è¦åŠƒå·¥å…·ã€‚" />
  <meta name="keywords" content="é€€ä¼‘è©¦ç®—,é€€ä¼‘ç›®æ¨™,é€€ä¼‘é‡‘è¦åŠƒ,ETFé€€ä¼‘,å®šæœŸå®šé¡,ç†è²¡å·¥å…·,å³é¦¬å…‹" />
  <link rel="canonical" href="https://markmoneylife.com/retirement-calculator/" />

  <!-- âœ… Logo / Faviconï¼ˆä½ çµ¦çš„ç¶²å€ï¼‰ -->
  <link rel="icon" href="https://github.com/markmoneylife/compound-interest-tool/blob/main/icon-512.png?raw=true" type="image/png" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="é€€ä¼‘ç›®æ¨™å€’æ¨ï½œæ¯æœˆè©²å­˜å¤šå°‘ï¼Ÿç«‹å³è©¦ç®—" />
  <meta property="og:description" content="è¼¸å…¥å¹´é½¡èˆ‡ç›®æ¨™é‡‘é¡ï¼Œå³å¯å¿«é€Ÿå¾—å‡ºæ¯æœˆæ‡‰æŠ•å…¥é‡‘é¡ã€‚ç”±å³é¦¬å…‹å°ˆç‚ºETFæŠ•è³‡äººæ‰“é€ çš„é€€ä¼‘è¦åŠƒå·¥å…·ã€‚" />
  <meta property="og:url" content="https://markmoneylife.com/retirement-calculator/" />
  <meta property="og:image" content="https://markmoney738404280.wordpress.com/wp-content/uploads/2025/06/e8a487e588a9e8a9a6e7ae97e5b7a5e585b7.png" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="é€€ä¼‘ç›®æ¨™å€’æ¨ï½œæ¯æœˆè©²å­˜å¤šå°‘ï¼Ÿç«‹å³è©¦ç®—" />
  <meta name="twitter:description" content="è¼¸å…¥å¹´é½¡èˆ‡ç›®æ¨™é‡‘é¡ï¼Œå³å¯å¿«é€Ÿå¾—å‡ºæ¯æœˆæ‡‰æŠ•å…¥é‡‘é¡ã€‚ç”±å³é¦¬å…‹å°ˆç‚ºETFæŠ•è³‡äººæ‰“é€ çš„é€€ä¼‘è¦åŠƒå·¥å…·ã€‚" />
  <meta name="twitter:image" content="https://markmoney738404280.wordpress.com/wp-content/uploads/2025/06/e8a487e588a9e8a9a6e7ae97e5b7a5e585b7.png" />

  <!-- Mobile Web App -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#071623" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XF61M6KL30"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XF61M6KL30');
  </script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* ========= Mark UIï¼šæ·±ç¶ ï¼‹æ·±è—ï¼‹é‡é»é»ƒ ========= */
    :root{
      --bg:#020911;
      --bg2:#071623;
      --card:rgba(6,37,44,.86);
      --card2:rgba(5,43,52,.72);
      --text:#EAF2F4;
      --muted:rgba(234,242,244,.72);
      --line:rgba(255,255,255,.10);
      --accent:#FFD54F;
      --accent2:#FFE082;
      --shadow:0 18px 44px rgba(0,0,0,.45);
      --r-xl:26px;
      --r-lg:18px;
      --r-md:14px;
    }

    /* èƒŒæ™¯æ˜Ÿé» */
    body{
      margin:0;
      font-family: system-ui,-apple-system,"PingFang TC","Noto Sans TC","Helvetica Neue",sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 15% 10%, rgba(255,213,79,.20), transparent 55%),
        radial-gradient(900px 520px at 85% 18%, rgba(11,58,90,.45), transparent 55%),
        radial-gradient(900px 520px at 30% 85%, rgba(29,74,53,.45), transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      min-height: 100vh;
      padding: 18px 14px 120px;
    }
    body:before{
      content:"";
      position: fixed; inset: 0;
      pointer-events: none;
      background-image:
        radial-gradient(rgba(255,255,255,.13) 1px, transparent 1px),
        radial-gradient(rgba(255,255,255,.08) 1px, transparent 1px);
      background-size: 120px 120px, 220px 220px;
      background-position: 0 0, 60px 80px;
      opacity:.55;
      mix-blend-mode: screen;
    }
    .shell{
      max-width: 1180px;
      margin: 0 auto;
      position: relative;
    }

    /* ===== å°è¦½åˆ—ï¼ˆç¶­æŒä½ åŸæœ¬çµæ§‹ï¼Œä½†è¦–è¦ºçµ±ä¸€é »é“ç¶²ç«™ï¼‰ ===== */
    .nav-wrap{
      position: sticky;
      top: 10px;
      z-index: 999;
      background: linear-gradient(90deg, rgba(7,22,35,.78), rgba(2,9,17,.58));
      border: 1px solid var(--line);
      backdrop-filter: blur(10px);
      border-radius: 999px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      padding: 10px;
      margin-bottom: 18px;
    }
    .nav-row{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08);
      white-space: nowrap;
      flex: 1 1 auto;
      min-width: 260px;
    }
    .brand img{
      width: 30px;
      height: 30px;
      border-radius: 10px;
      object-fit: cover;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
    }
    .brand .t1{ font-weight: 1000; letter-spacing: .4px; }
    .brand .t2{ font-size:.85rem; color: var(--muted); margin-left: 8px; }

    .nav-toggle{
      display:none;
      background: var(--accent);
      color:#111;
      border:none;
      padding: 10px 14px;
      border-radius: 999px;
      font-weight: 1000;
      cursor:pointer;
      box-shadow: 0 10px 25px rgba(255,213,79,.18);
      flex: 0 0 auto;
    }
    .nav-links{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      flex: 2 1 auto;
    }
    .nav-links a{
      text-decoration:none;
      color: var(--text);
      font-weight: 900;
      font-size: .95rem;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .nav-links a:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.07);
      border-color: rgba(255,213,79,.35);
    }
    .nav-links a.cta{
      background: linear-gradient(135deg, rgba(255,213,79,.95), rgba(255,224,130,.92));
      color:#121212;
      border: none;
      box-shadow: 0 14px 35px rgba(255,213,79,.18);
    }
    .nav-links a.cta:hover{ transform: translateY(-2px); }

    @media (max-width: 980px){
      .nav-toggle{ display:block; }
      .nav-links{ display:none; width:100%; justify-content:center; padding-top: 10px; }
      .nav-links.active{ display:flex; }
    }

    /* ===== é€šç”¨å¡ç‰‡ ===== */
    .section{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r-xl);
      box-shadow: var(--shadow);
      padding: 18px;
      margin-top: 16px;
    }
    .step-title{
      background: rgba(255,213,79,.14);
      border: 1px solid rgba(255,213,79,.28);
      display: inline-block;
      padding: 0.55rem 1.1rem;
      border-radius: 999px;
      color: var(--accent);
      font-size: 1.1rem;
      font-weight: 1000;
      margin-bottom: 12px;
    }
    h1{
      text-align:center;
      margin: 10px 0 6px;
      font-size: 1.9rem;
      font-weight: 1000;
      letter-spacing:.6px;
    }
    .sub{
      text-align:center;
      color: var(--muted);
      margin: 0 0 14px;
      line-height: 1.7;
    }

    /* input */
    label{ display:block; font-weight: 1000; margin-top: 10px; color: rgba(234,242,244,.92); }
    input{
      width: 100%;
      margin-top: 8px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      outline:none;
      background: rgba(2,9,17,.45);
      color: var(--text);
      font-size: 1rem;
      box-sizing: border-box;
    }
    input::placeholder{ color: rgba(234,242,244,.45); }
    input:focus{
      border-color: rgba(255,213,79,.45);
      box-shadow: 0 0 0 4px rgba(255,213,79,.12);
    }

    /* Step3 optionsï¼ˆä¿ç•™ä½ èˆŠç‰ˆçµæ§‹ï¼šå››å¡ + åœ– + æ¨™é¡Œ + å°å­—ï¼‰ */
    .options{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
      margin-top: 12px;
    }
    @media (max-width: 760px){ .options{ grid-template-columns: 1fr; } }

    .option{
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 14px;
      text-align: center;
      cursor: pointer;
      transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease, background .15s ease;
    }
    .option.selected{
      border-color: rgba(255,213,79,.75);
      box-shadow: 0 0 0 4px rgba(255,213,79,.10), 0 18px 36px rgba(0,0,0,.35);
      background: rgba(255,255,255,.06);
    }

    /* âœ… é€™è£¡å°±æ˜¯ä½ æˆªåœ–ä¸Šé¢ã€Œèˆ’æœçš„èˆŠç‰ˆçµæ§‹ã€ï¼šæ­£æ–¹å½¢åœ–ã€å®Œæ•´å‘ˆç¾ã€è¦–è¦ºé£½æ»¿ */
    .option .img-wrap{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 14px;
      padding: 12px;
    }
    .option img{
      width: 100%;
      aspect-ratio: 1 / 1;     /* âœ… æ­£æ–¹å½¢ */
      object-fit: cover;        /* âœ… ä¿ç•™ä½ èˆ’æœçš„å‘ˆç¾æ–¹å¼ï¼ˆåƒèˆŠç‰ˆ Step3ï¼‰ */
      border-radius: 12px;
      display:block;
    }
    .option .meta{
      margin-top: 10px;
      font-weight: 1000;
      color: var(--text);
    }
    .option small{
      display:block;
      margin-top: 6px;
      color: var(--muted);
      line-height: 1.6;
      font-size: .95rem;
    }

    /* æŒ‰éˆ• */
    button{
      width:100%;
      margin-top: 14px;
      border:none;
      border-radius: 16px;
      padding: 14px 14px;
      font-size: 1.05rem;
      font-weight: 1000;
      cursor:pointer;
      color:#111;
      background: linear-gradient(135deg, rgba(255,213,79,.98), rgba(255,224,130,.96));
      box-shadow: 0 18px 40px rgba(255,213,79,.14);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    button:hover{ transform: translateY(-2px); box-shadow: 0 22px 50px rgba(255,213,79,.18); }

    /* çµæœ */
    #outputArea{ display:none; }
    .result-container{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 16px;
      margin-top: 16px;
      align-items: start;
    }
    @media (max-width: 900px){ .result-container{ grid-template-columns: 1fr; } }

    #result, #chart-container{
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 14px;
      box-shadow: 0 14px 34px rgba(0,0,0,.25);
    }
    #result{ border-top: 3px solid rgba(255,213,79,.9); }
    #chart-container{ border-top: 3px solid rgba(78,184,255,.85); }

    #warmMessage{
      margin-top: 14px;
      text-align:center;
      background: rgba(255,213,79,.10);
      border: 1px solid rgba(255,213,79,.22);
      color: rgba(255,224,130,.96);
      padding: 12px 14px;
      border-radius: 16px;
      font-weight: 1000;
    }

    /* ===========================================================
       âœ… ä½ èªªã€Œæ€ªã€çš„å€å¡Šï¼šå¿ƒç†æ¸¬é©—çµæœï¼ˆèˆŠç‰ˆçµæ§‹æ¬éä¾† + æ–°UIï¼‰
       ç›®æ¨™ï¼š1) ä¸è¦ä¸­é–“ç¸®å° 2) ä¸è¦å·¨å¤§ç©ºç™½ 3) çœ‹èµ·ä¾†è·Ÿ Step3 åŒä¸€å€‹ç³»çµ±
       =========================================================== */

    .quiz-wrap{
      margin-top: 16px;
      padding: 16px;
      border-radius: var(--r-xl);
      border: 1px solid var(--line);
      background: linear-gradient(135deg, rgba(7,22,35,.62), rgba(6,37,44,.62));
      box-shadow: var(--shadow);
    }
    .quiz-wrap h2{
      margin: 0 0 12px;
      font-size: 1.2rem;
      font-weight: 1000;
      letter-spacing: .3px;
      text-align: center;
    }
    .quiz-wrap .hint{
      text-align:center;
      color: var(--muted);
      margin-top: 10px;
      font-size: .95rem;
      line-height: 1.7;
    }

    /* âœ… é—œéµä¿®æ­£ï¼šç”¨ã€Œå…§å®¹å¯¬åº¦ã€ç•¶å¡ç‰‡å¯¬ï¼Œä¸è¦ç¡¬å¡ 16:9 */
    .quiz-images{
      display:flex;
      gap: 14px;
      overflow-x:auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      padding: 8px 4px 12px;
    }

    /* âœ… æ¯å¼µå¡ = èˆŠç‰ˆæµ·å ±åœ–å¡ï¼ˆç›´å¼æ¯”ä¾‹ï¼‰ï¼Œä½†å¤–è§€ç”¨æ–°UI */
    .quiz-poster{
      flex: 0 0 auto;
      width: 260px;                 /* âœ… ç›´å¼åœ–å¡æœ€èˆ’æœçš„å¯¬åº¦ */
      scroll-snap-align: start;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      box-shadow: 0 14px 30px rgba(0,0,0,.30);
      overflow: hidden;
      padding: 10px;
    }
    .quiz-poster img{
      width: 100%;
      height: auto;                 /* âœ… ä¸é–é«˜åº¦ï¼Œè®“åœ–å¡ã€Œå®Œæ•´å‘ˆç¾ã€ */
      object-fit: contain;           /* âœ… å®Œæ•´ã€ä¸è£åˆ‡ */
      display:block;
      border-radius: 14px;
      background: #F5F2E9;           /* âœ… è®“é€æ˜/ç•™ç™½æ™‚ä¹Ÿä¸é«’ */
    }

    /* ===== CTA & é¢¨éšªæç¤º & è¯ç›Ÿè¡ŒéŠ·ï¼ˆä¿ç•™ä½ åŸæœ¬çµæ§‹ï¼‰ ===== */
    .cta-section, .risk-note, .affliate-note{ max-width:900px; margin:18px auto 0; text-align:center; }
    .cta-section{
      padding: 16px;
      border-radius: var(--r-xl);
      border: 1px solid rgba(255,213,79,.18);
      background: rgba(255,213,79,.08);
      box-shadow: 0 14px 30px rgba(0,0,0,.22);
    }
    .cta-section h3{
      margin:0;
      font-size: 1.15rem;
      font-weight: 1000;
      color: rgba(255,224,130,.98);
    }
    .cta-section p{ margin: 10px 0 0; color: rgba(234,242,244,.82); line-height: 1.7; }
    .cta-section a{
      display:inline-block;
      background-color:#1D4A35;
      color:white;
      padding:10px 20px;
      text-decoration:none;
      border-radius:999px;
      margin:6px;
      font-weight: 1000;
      border: 1px solid rgba(255,255,255,.12);
    }
    .risk-note{
      font-size:0.9rem;
      color: rgba(234,242,244,.72);
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.10);
      padding: 14px;
      border-radius: var(--r-xl);
      line-height: 1.7;
    }
    .affliate-note{
      margin-top:14px;
      padding:14px;
      background: rgba(255,213,79,.06);
      border-left:4px solid rgba(255,213,79,.75);
      border-radius: var(--r-xl);
      font-size:0.95rem;
      color: rgba(234,242,244,.78);
      line-height: 1.7;
      border: 1px solid rgba(255,255,255,.10);
      text-align:left;
    }

    /* æ”¯æŒæˆ‘ æµ®å‹•æŒ‰éˆ•ï¼ˆä¿ç•™ä½ åŸæœ¬çµæ§‹ï¼‰ */
    #supportButton{ position: fixed; bottom:30px; right:30px; z-index:999; }
    #supportButton button{
      background: linear-gradient(135deg, rgba(255,213,79,.98), rgba(255,224,130,.96));
      color:#111;
      font-weight:1000;
      border:none;
      padding:0.8rem 1.1rem;
      border-radius:999px;
      box-shadow:0 18px 40px rgba(255,213,79,.18);
      cursor:pointer;
      animation:pulse 1.5s infinite;
      width:auto;
      margin:0;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    #supportOverlay{
      position: fixed;
      inset:0;
      background:rgba(0,0,0,0.35);
      display:none;
      z-index:998;
    }
    #supportBox{
      position: fixed;
      bottom:90px;
      right:30px;
      width:320px;
      background: linear-gradient(135deg, rgba(6,37,44,.92), rgba(7,22,35,.92));
      color: var(--text);
      border-radius: 22px;
      box-shadow:0 22px 60px rgba(0,0,0,.45);
      padding:16px;
      opacity:0;
      transform:translateY(20px);
      transition:all 0.28s ease;
      z-index:9999;
      display:none;
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(10px);
      font-weight:500;
    }
    #supportBox a{ color: var(--accent); font-weight: 1000; }

    #viewCounter{ margin-top:18px; text-align:center; font-size:0.95rem; color:rgba(234,242,244,.60); }
  </style>
</head>

<body>
  <div class="shell">

    <!-- Nav -->
    <div class="nav-wrap">
      <div class="nav-row">
        <div class="brand" aria-label="å³é¦¬å…‹ï½œETF æŠ•è³‡ Ã— å¹¸ç¦ç†è²¡å®¶">
          <img src="https://github.com/markmoneylife/compound-interest-tool/blob/main/icon-512.png?raw=true" alt="Mark Logo" />
          <div class="t1">å³é¦¬å…‹ï½œETF æŠ•è³‡ Ã— å¹¸ç¦ç†è²¡å®¶ <span class="t2">å·¥å…·åŸºåœ°</span></div>
        </div>

        <button class="nav-toggle" onclick="toggleNav()">â˜° é¸å–®</button>

        <div class="nav-links" id="navBar">
          <a href="https://markmoneylife.com/etf-dividend-wall/">ETFé…æ¯åœ–å¡ç€‘å¸ƒç‰†</a>
          <a href="https://markmoneylife.com/etf-compound/">è¤‡åˆ©è©¦ç®—å·¥å…·</a>
          <a href="https://markmoneylife.com/retire-reverse/">é€€ä¼‘å€’æ¨</a>
          <a href="https://markmoneylife.com/newbie-village/">æ–°æ‰‹æŠ•è³‡æ‘</a>
          <a href="https://markmoneylife.com/etf-tracker-html/">ETFè¿½è¹¤ç‰†</a>
          <a class="cta" href="https://markmoneylife.com/retirement-calculator/" target="_blank" rel="noopener">â†’ é–‹å§‹æ‰“é€ é€€ä¼‘è—åœ–</a>
          <a href="https://forms.gle/CzCUhqJCrmdYk7iF6" target="_blank" rel="noopener">åŠ å…¥LINEç¤¾ç¾¤</a>
        </div>
      </div>
    </div>

    <!-- Header -->
    <h1>é€€ä¼‘è©¦ç®—å·¥å…·</h1>
    <p class="sub">é¦¬å…‹é™ªä½ ä¸€èµ·è¦åŠƒå®‰å¿ƒé€€ä¼‘é‡‘ï¼Œå¾ç¾åœ¨é–‹å§‹æº–å‚™æ›´å¥½çš„æœªä¾†ï¼</p>

    <!-- Step 1 -->
    <div class="section">
      <div class="step-title">Step 1ï½œåŸºæœ¬è³‡æ–™</div>

      <label>ç›®å‰å¹´é½¡ï¼š</label>
      <input type="number" id="currentAge" placeholder="ä¾‹å¦‚ï¼š30">

      <label>é è¨ˆé€€ä¼‘å¹´é½¡ï¼š</label>
      <input type="number" id="retireAge" placeholder="ä¾‹å¦‚ï¼š60">

      <label>é è¨ˆå¹¾æ­²é–‹å§‹å­˜é€€ä¼‘é‡‘ï¼š</label>
      <input type="number" id="startSavingAge" placeholder="ä¾‹å¦‚ï¼š30">

      <label>é è¨ˆå£½å‘½ï¼ˆé è¨­85æ­²ï¼‰ï¼š</label>
      <input type="number" id="lifeExpectancy" value="85">
    </div>

    <!-- Step 2 -->
    <div class="section">
      <div class="step-title">Step 2ï½œè²¡å‹™ç›®æ¨™è¨­å®š</div>

      <label>é è¨ˆé€€ä¼‘æ¯æœˆç”Ÿæ´»è²»ï¼ˆå°å¹£ï¼‰ï¼š</label>
      <input type="number" id="monthlyExpense" placeholder="ä¾‹å¦‚ï¼š40000">

      <label>å·²ç´¯ç©é€€ä¼‘é‡‘ï¼ˆå°å¹£ï¼‰ï¼š</label>
      <input type="number" id="savedFund" placeholder="ä¾‹å¦‚ï¼š500000">

      <label>ç›®å‰æ¯æœˆå¯æŠ•å…¥é‡‘é¡ï¼ˆå°å¹£ï¼‰ï¼š</label>
      <input type="number" id="currentMonthlySaving" placeholder="ä¾‹å¦‚ï¼š10000">
    </div>

    <!-- Step 3ï¼ˆä¿ç•™èˆŠç‰ˆçµæ§‹ï¼šå››å¼µåœ–å¡ä¸€æ¨£çš„ç¶²æ ¼çµæ§‹ï¼‰ -->
    <div class="section">
      <div class="step-title">Step 3ï½œä½ çš„ç†æƒ³é€€ä¼‘ç”Ÿæ´»æ˜¯ä»€éº¼ï¼Ÿ</div>
      <p class="sub" style="margin-top:6px;">
        é¸ä¸€å¼µæœ€ç¬¦åˆä½ æƒ³åƒçš„åœ–ç‰‡ï¼Œè®“æˆ‘å€‘æ ¹æ“šä½ çš„å¤¢æƒ³ï¼Œç‚ºä½ é‡èº«æ‰“é€ é€€ä¼‘è¨ˆç•«ï¼ğŸŒŸ<br>
        ï¼ˆæ¯å€‹é¸æ“‡ï¼Œéƒ½æœ‰å±¬æ–¼ä½ çš„æ•…äº‹èˆ‡æ­¥èª¿ã€‚ï¼‰
      </p>

      <div class="options">
        <div class="option" onclick="selectLifestyle('çµè±¹å‹', 0.06, event)">
          <div class="img-wrap">
            <img src="https://images.plurk.com/3cjwlXxhIVqYupHhQELwmw.png" alt="çµè±¹å‹">
          </div>
          <div class="meta">çµè±¹å‹</div>
          <small>ä¸è¨­é™äººç”Ÿï¼Œç’°éŠä¸–ç•Œã€å†’éšªé—–è•©ã€‚</small>
        </div>

        <div class="option" onclick="selectLifestyle('å¤§è±¡å‹', 0.04, event)">
          <div class="img-wrap">
            <img src="https://images.plurk.com/2LTuyzJ1zW1q3UCdDlztjR.png" alt="å¤§è±¡å‹">
          </div>
          <div class="meta">å¤§è±¡å‹</div>
          <small>ç©©å¥èµ°ï¼Œäº«å—ç”Ÿæ´»å“è³ªã€‚</small>
        </div>

        <div class="option" onclick="selectLifestyle('çŒ´å­å‹', 0.05, event)">
          <div class="img-wrap">
            <img src="https://images.plurk.com/3nbsUsqNbMro2C6xtfMLpb.png" alt="çŒ´å­å‹">
          </div>
          <div class="meta">çŒ´å­å‹</div>
          <small>å‰µæ¥­å‰¯æ¥­ï¼Œç‡ƒç‡’ç†±æƒ…ã€‚</small>
        </div>

        <div class="option" onclick="selectLifestyle('å°ç‹—å‹', 0.03, event)">
          <div class="img-wrap">
            <img src="https://images.plurk.com/7ENPGAeY4Biet636M1leF4.png" alt="å°ç‹—å‹">
          </div>
          <div class="meta">å°ç‹—å‹</div>
          <small>é™ªä¼´å®¶äººï¼Œæ‚ é–’è‡ªåœ¨ã€‚</small>
        </div>
      </div>

      <input type="hidden" id="lifestyle">
      <input type="hidden" id="annualReturn">
      <button onclick="calculateRetirement()">â” å®Œæˆè©¦ç®—</button>
    </div>

    <!-- çµæœé¡¯ç¤º -->
    <div id="outputArea">
      <h2 style="text-align:center; margin-top:16px; font-weight:1000;">ğŸ¯ ä½ çš„é€€ä¼‘è·¯å¾‘åˆ†æ</h2>

      <div class="result-container">
        <div id="result"></div>
        <div id="chart-container"><canvas id="myChart"></canvas></div>
      </div>

      <div id="warmMessage"></div>
    </div>

    <!-- âœ… å¿ƒç†æ¸¬é©—åœ–å¡ï¼ˆä¿æŒèˆŠç‰ˆçµæ§‹ï¼šæ©«å‘æ»‘å‹• + ç›´å¼åœ–å¡ï¼Œä¸è¦æ€ªç©ºç™½ï¼‰ -->
    <section class="quiz-wrap">
      <h2>ğŸ“– å¿ƒç†æ¸¬é©—çµæœï½œé€€ä¼‘äººæ ¼åœ–å¡</h2>

      <div class="quiz-images">
        <div class="quiz-poster"><img src="https://images.plurk.com/247S0RdLTWT6TXYlqDCvBB.png" alt="çµè±¹å‹"></div>
        <div class="quiz-poster"><img src="https://images.plurk.com/4wPNYsbRaNO0I3JE41GQ46.png" alt="å¤§è±¡å‹"></div>
        <div class="quiz-poster"><img src="https://images.plurk.com/B3bXouDVvGExTMGjxUqJ1.png" alt="çŒ´å­å‹"></div>
        <div class="quiz-poster"><img src="https://images.plurk.com/1dbyFuJ6n1pnnUR4CvTxIm.png" alt="å°ç‹—å‹"></div>
      </div>

      <div class="hint">ğŸ‘† å·¦å³æ»‘å‹•çœ‹çœ‹ä½ æ˜¯å“ªå‹é€€ä¼‘é¢¨æ ¼ã€‚æ¯ç¨®é¸æ“‡éƒ½æ²’æœ‰å°éŒ¯ï¼Œé‡é»æ˜¯ã€Œæ‰¾åˆ°è‡ªå·±çš„ç¯€å¥ã€ã€‚</div>
    </section>

    <!-- æ”¯æŒ CTAï¼ˆä¿ç•™ä½ åŸæœ¬å€å¡Šï¼‰ -->
    <section class="cta-section">
      <h3>â˜• å–œæ­¡é€™äº›ç†è²¡å·¥å…·ï¼Ÿæ­¡è¿æ”¯æŒæˆ‘æŒçºŒæ›´æ–°ï¼</h3>
      <p>é€™äº›è©¦ç®—å·¥å…·ã€ETFè¿½è¹¤ç‰†èˆ‡è³‡ç”¢è¦åŠƒæ¨¡çµ„ï¼Œéƒ½æ˜¯æˆ‘ä¸€å€‹ä¸€å€‹æ…¢æ…¢å¯«å‡ºä¾†çš„ã€‚</p>
      <p><strong>å¦‚æœä½ è¦ºå¾—å¯¦ç”¨ï¼Œä¹Ÿè¨±å¯ä»¥é¸ä¸€å€‹æ–¹å¼æ”¯æŒæˆ‘ï¼š</strong></p>
      <p>
        <a href="https://www.youtube.com/channel/UC6K_jdAGqW0atmXrIG5Pthw/join" target="_blank" rel="noopener">ğŸª åŠ å…¥æœƒå“¡æ˜Ÿçƒ</a>
        <a href="https://www.fandorashop.com/zh-TW/collections/å³é¦¬å…‹å¹¸ç¦ç†è²¡å®¶å‘¨é‚Š" target="_blank" rel="noopener">ğŸ›ï¸ é¸è³¼é€±é‚Š</a>
        <a href="https://store.line.me/stickershop/author/5129398/zh-Hant" target="_blank" rel="noopener">ğŸ“± è²¼åœ–æ”¯æŒ</a>
      </p>
      <p style="font-size:0.95rem;color:rgba(234,242,244,.7);margin-top:10px;">æ„Ÿè¬ä½ æ”¯æŒï¼Œè®“é€™äº›å·¥å…·é™ªä½ ä¸€èµ·èµ°æ›´é•·é  ğŸ’›</p>
    </section>

    <!-- é¢¨éšªæç¤º -->
    <div class="risk-note">
      ğŸ“¢ <strong>æŠ•è³‡é¢¨éšªæç¤ºï¼š</strong><br/>
      æœ¬ç¶²ç«™æä¾›ä¹‹è©¦ç®—èˆ‡å…§å®¹ï¼Œåƒ…ä¾›ç†è²¡æ•™è‚²èˆ‡åƒè€ƒï¼Œéå€‹åˆ¥åŒ–æŠ•è³‡å»ºè­°ã€‚ETFç­‰é‡‘èå•†å“å¯èƒ½å› å¸‚å ´æ³¢å‹•è€Œæå¤±æœ¬é‡‘ã€‚è«‹è©³é–±å…¬é–‹èªªæ˜æ›¸ï¼Œä¸¦ä¾è‡ªèº«é¢¨éšªæ‰¿å—åº¦è©•ä¼°ã€‚
    </div>

    <!-- è¯ç›Ÿè¡ŒéŠ·èªªæ˜ -->
    <div class="affliate-note">
      ğŸ”— æœ¬ç«™éƒ¨åˆ†é€£çµç‚ºè¯ç›Ÿè¡ŒéŠ·é€£çµï¼ˆAffiliate Linkï¼‰ï¼Œè‹¥æ‚¨é€éé€™äº›é€£çµè³¼è²·å•†å“ï¼Œç«™ä¸»å¯èƒ½æœƒç²å¾—å°‘é‡å›é¥‹ã€‚<br/>
      æ„Ÿè¬æ‚¨ç”¨å¯¦éš›è¡Œå‹•æ”¯æŒå…§å®¹å‰µä½œ â¤ï¸
    </div>

    <!-- æµ®å‹•æ”¯æŒæŒ‰éˆ• & å½ˆçª—ï¼ˆä¿ç•™ä½ åŸæœ¬çµæ§‹ï¼‰ -->
    <div id="supportButton">
      <button onclick="toggleSupportBox()">ğŸ’° æ”¯æŒæˆ‘</button>
    </div>
    <div id="supportOverlay" onclick="toggleSupportBox()"></div>
    <div id="supportBox">
      <div style="text-align:center;">
        <img src="https://images.plurk.com/3pHQAD7mBlcAwyLebMYr4j.jpg" alt="å³é¦¬å…‹"
             style="width:72px;height:72px;border-radius:18px;margin-bottom:10px;border:1px solid rgba(255,255,255,.12);object-fit:cover;" />
        <p style="font-weight:1000;font-size:1rem;margin:0;">æˆ‘æ˜¯å³é¦¬å…‹</p>
        <p style="font-size:0.9rem;color:rgba(234,242,244,.72);margin:8px 0 10px;">ä¸€èµ·æ‰“é€ å®‰å¿ƒçš„è²¡å‹™è‡ªç”±ç”Ÿæ´» ğŸ’¡</p>
        <a href="https://open.firstory.me/join/investwithmark" target="_blank" rel="noopener"
           style="display:inline-block;padding:0.55rem 1rem;background:rgba(255,213,79,.14);border:1px solid rgba(255,213,79,.24);color:rgba(255,224,130,.96);border-radius:999px;font-weight:1000;">
          ğŸ’° å–®ç­†è´ŠåŠ©æˆ‘
        </a>
        <p style="margin:14px 0 8px;font-weight:1000;">ğŸ“² ç¤¾ç¾¤é€£çµ</p>
        <div style="font-size:0.95rem;line-height:1.9;text-align:left;">
          ğŸ“¸ <a href="https://www.instagram.com/rengary0301/" target="_blank" rel="noopener">IGï¼š@rengary0301</a><br/>
          ğŸ‘ <a href="https://www.facebook.com/wumarkyoutube/" target="_blank" rel="noopener">FB ç²‰å°ˆ</a><br/>
          ğŸ§ <a href="https://open.firstory.me/user/wumark/platforms" target="_blank" rel="noopener">Podcast</a><br/>
          ğŸŒ <a href="https://markmoneylife.com/" target="_blank" rel="noopener">å€‹äººç¶²ç«™</a><br/>
          ğŸ‘¥ <a href="https://docs.google.com/forms/d/1ssXYgwb88c7KNtW569MQvdEplbvloERyDlTMZAe3xRY/edit" target="_blank" rel="noopener">LINE ç¤¾ç¾¤</a>
        </div>
        <p style="font-size:0.8rem;color:rgba(234,242,244,.65);margin-top:12px;">
          ğŸ“© è¯çµ¡ä¿¡ç®±ï¼š<a href="mailto:rengary0301@gmail.com">rengary0301@gmail.com</a>
        </p>
      </div>
    </div>

    <!-- çœ‹æ¿ç€è¦½è¨ˆæ•¸ï¼ˆä¿ç•™ä½ åŸæœ¬çµæ§‹ï¼Œæ•¸å­—ä¾†æºæœªå¯¦ä½œå°±å…ˆé¡¯ç¤ºå­—ï¼‰ -->
    <div id="viewCounter">
      ğŸ‘€ æœ¬é å·²è¢«ç€è¦½ <span id="viewCount">è¼‰å…¥ä¸­â€¦</span> æ¬¡
    </div>

  </div><!-- /shell -->

  <!-- æ§åˆ¶è…³æœ¬ï¼ˆä¿ç•™ä½ åŸæœ¬é‚è¼¯ï¼ŒåªåŠ ä¸Š Chart é˜²ç–ŠåŠ ï¼‰ -->
  <script>
    function toggleNav() {
      document.getElementById('navBar').classList.toggle('active');
    }

    function toggleSupportBox() {
      const box = document.getElementById('supportBox');
      const overlay = document.getElementById('supportOverlay');
      const visible = box.style.opacity === '1';
      if (!visible) {
        overlay.style.display = 'block';
        box.style.display = 'block';
        setTimeout(() => { box.style.opacity = '1'; box.style.transform = 'translateY(0)'; }, 30);
      } else {
        box.style.opacity = '0';
        box.style.transform = 'translateY(20px)';
        setTimeout(() => { box.style.display = 'none'; overlay.style.display = 'none'; }, 250);
      }
    }

    function selectLifestyle(type, rate, event) {
      document.getElementById('lifestyle').value = type;
      document.getElementById('annualReturn').value = rate;
      document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
      event.currentTarget.classList.add('selected');
    }

    let _chartInstance = null;

    function calculateRetirement() {
      const getVal = id => parseFloat(document.getElementById(id).value) || NaN;
      const [currentAge, retireAge, startSavingAge, lifeExpectancy, monthlyExpense, savedFund, currentMonthlySaving] =
        ['currentAge','retireAge','startSavingAge','lifeExpectancy','monthlyExpense','savedFund','currentMonthlySaving'].map(getVal);
      const annualReturn = parseFloat(document.getElementById('annualReturn').value);
      const lifestyle = document.getElementById('lifestyle').value;

      if ([currentAge, retireAge, startSavingAge, lifeExpectancy, monthlyExpense, savedFund, currentMonthlySaving].some(isNaN) || !lifestyle) {
        return alert('è«‹å®Œæ•´å¡«å¯«æ‰€æœ‰æ¬„ä½ï¼');
      }

      const yearsToRetire = retireAge - currentAge;
      const retireYears = lifeExpectancy - retireAge;
      const totalNeeded = monthlyExpense * 12 * retireYears;

      const futureSavedFund = savedFund * Math.pow(1 + annualReturn, yearsToRetire);
      const futureMonthly = currentMonthlySaving * (Math.pow(1 + annualReturn/12, yearsToRetire*12) - 1)/(annualReturn/12);
      const totalFutureFund = futureSavedFund + futureMonthly;

      const gap = totalNeeded - totalFutureFund;

      let addMonthly = 0;
      if (gap > 0) {
        const investYears = retireAge - startSavingAge;
        addMonthly = gap*(annualReturn/12)/(Math.pow(1+annualReturn/12,investYears*12)-1);
      }

      let allocation =
        currentAge<40 ? 'è‚¡ç¥¨å‹ETF 80%ï½œå‚µåˆ¸å‹ETF 20%' :
        currentAge<55 ? 'è‚¡ç¥¨å‹ETF 60%ï½œå‚µåˆ¸å‹ETF 40%' :
                        'è‚¡ç¥¨å‹ETF 40%ï½œå‚µåˆ¸å‹ETF 60%';

      const warmTexts = {
        'çµè±¹å‹':'è¿½å¤¢çš„è…³æ­¥æ°¸é ä¸å«Œå¿«ï¼Œç¹¼çºŒå…¨é€Ÿå‰é€²å§ï¼ğŸŒŸ',
        'å¤§è±¡å‹':'ç©©å¥åœ°èµ°ï¼Œæ¯ä¸€æ­¥éƒ½é›¢å¹¸ç¦æ›´è¿‘ã€‚ğŸ˜',
        'çŒ´å­å‹':'éˆæ´»åˆæœ‰æ´»åŠ›çš„ä½ ï¼Œäººç”Ÿæ¯ä¸€åˆ»éƒ½æ˜¯ç²¾å½©å†’éšªï¼ğŸ™‰',
        'å°ç‹—å‹':'ç”¨æº«æŸ”é™ªä¼´è‡ªå·±èˆ‡å®¶äººï¼Œæ…¢æ…¢éä¹Ÿæ˜¯ä¸€ç¨®å¹¸ç¦ã€‚ğŸ¶'
      };

      document.getElementById('outputArea').style.display='block';
      document.getElementById('result').innerHTML=`
        <div style="font-weight:1000;margin-bottom:10px;">
          é€€ä¼‘ç”Ÿæ´»å‹æ…‹ï¼š<span style="color:rgba(255,224,130,.96);">${lifestyle}</span>
        </div>
        <div style="color:rgba(234,242,244,.85);line-height:1.8;">
          <strong>è·é›¢é€€ä¼‘ï¼š</strong>${yearsToRetire} å¹´<br>
          <strong>é€€ä¼‘ç¸½éœ€æ±‚ï¼š</strong>${Math.round(totalNeeded).toLocaleString()} å…ƒ<br>
          <strong>é€€ä¼‘æ™‚é ä¼°ç´¯ç©è³‡é‡‘ï¼š</strong>${Math.round(totalFutureFund).toLocaleString()} å…ƒ<br>
          <strong>å»ºè­°é…ç½®ï¼š</strong>${allocation}<br><br>
          ${gap<=0
            ? `<strong style="color:rgba(147,255,199,.92);">è³‡é‡‘å……è¶³ï¼Œå®‰å¿ƒé€€ä¼‘ï¼</strong>`
            : `<strong>å°šéœ€è£œå……ï¼š</strong>${Math.round(gap).toLocaleString()} å…ƒ<br>
               <strong>å»ºè­°é¡å¤–æ¯æœˆæŠ•å…¥ï¼š</strong>${Math.round(addMonthly).toLocaleString()} å…ƒ`
          }
          <div style="margin-top:10px;color:rgba(234,242,244,.55);font-size:.92rem;">
            ï¼ˆæœ¬è©¦ç®—ä»¥é è¨­å ±é…¬ç‡æ¨ä¼°ï¼Œå¯¦éš›çµæœå°‡ä¾å¸‚å ´è®ŠåŒ–ã€‚ï¼‰
          </div>
        </div>
      `;
      document.getElementById('warmMessage').innerText=`ğŸ’¬ å°æé†’ï¼š${warmTexts[lifestyle]}`;

      if (_chartInstance) _chartInstance.destroy();
      _chartInstance = new Chart(document.getElementById('myChart'), {
        type:'pie',
        data:{
          labels:['ç´¯ç©è³‡é‡‘','å·®é¡ï¼ˆè‹¥æœ‰ï¼‰'],
          datasets:[{ data:[totalFutureFund, gap>0?gap:0] }]
        },
        options:{
          responsive:true,
          plugins:{ legend:{ position:'bottom', labels:{ color:'rgba(234,242,244,.75)' } } }
        }
      });

      document.getElementById('result').scrollIntoView({ behavior:'smooth' });
    }
  </script>
</body>
</html>
